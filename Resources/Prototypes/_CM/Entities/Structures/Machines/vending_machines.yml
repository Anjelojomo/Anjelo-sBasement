- type: entity
  abstract: true
  parent: [ BaseMachinePowered, CMEntityBase ]
  id: ColMarTechBase
  name: ColMarTech vendor
  components:
#    offState: off
#    brokenState: broken
  - type: Sprite
    sprite: _CM/Structures/Machines/VendingMachines/colmartechweapons.rsi
    layers:
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.Base"]
    - state: "base"
      map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
  - type: UserInterface
    interfaces:
    - key: enum.CMAutomatedVendorUI.Key
      type: CMAutomatedVendorBui
  - type: AmbientOnPowered
  - type: AmbientSound
    volume: -9
    range: 3
    enabled: false
    sound:
      path: /Audio/Ambience/Objects/vending_machine_hum.ogg
  - type: Physics
    bodyType: Static
  - type: Transform
    noRot: true
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.45,0.25,0.45"
        mask:
        - MachineMask
        layer:
        - MachineLayer
        density: 200
  - type: ActivatableUI
    key: enum.CMAutomatedVendorUI.Key
  - type: ActivatableUIRequiresPower

- type: entity
  parent: ColMarTechBase
  id: ColMarTechFood
  suffix: CM
  name: ColMarTech Automated Marine Equipment Rack
  description: An automated rack hooked up to a colossal storage of Marine Rifleman standard-issue equipment.
  components:
  - type: VendingMachine
    pack: EquipVendInventory
    offState: off
    brokenState: broken
    normalState: normal
    ejectDelay: 0.5
  - type: Sprite
    sprite: _CM/Structures/Machines/VendingMachines/ColMarTech/food.rsi
  - type: CMAutomatedVendor
    sections:
    - name: Готовое питание
      entries:
      - id: FoodMealChicken
        amount: 15
      - id: FoodMealCornbread
        amount: 15
      - id: FoodMealPasta
        amount: 15
      - id: FoodMealPizza
        amount: 15
      - id: FoodMealPork
        amount: 15
      - id: FoodMealTofu
        amount: 15
      - id: FoodProteinBar
        amount: 50
    - name: Фляги
      entries:
      - id: DrinkFlaskDefault
        amount: 10
      - id: DrinkFlaskMetal
        amount: 10
      - id: DrinkFlaskMetalUSCM
        amount: 5
      - id: DrinkFlaskMetalWY
        amount: 5

- type: entity
  parent: ColMarTechBase
  id: ColMarTechGuns
  name: ColMarTech automated weapons rack
  description: An automated weapon rack hooked up to a big storage of standard-issue weapons.
  components:
  - type: Sprite
    sprite: _CM/Structures/Machines/VendingMachines/ColMarTech/guns.rsi
  - type: CMAutomatedVendor
    sections:
    - name: Основное вооружие
      entries:
      - id: WeaponRifleM4RA
        amount: 4
      - id: WeaponSubMachineGunM39
        amount: 3
      - id: WeaponRifleM41A
        amount: 4
    - name: Основные боеприпасы
      entries:
      - id: MagazineRifleM4RA
        amount: 16
      - id: MagazineRifleM41A
        amount: 16
      - id: MagazineRifleM39
        amount: 16
    - name: Пистолеты
      entries:
      - id: WeaponPistol88M4
        amount: 25
      - id: WeaponPistolArmatM5Y3
        amount: 25
    - name: Sidearm ammunition
      entries:
      - id: MagazinePistol88M4
        amount: 25
      - id: MagazinePistolAramatM5Y3
        amount: 25
    - name: Утилиты
      entries:
      - id: MacheteMarine
        amount: 25
      - id: FlareMarine
        amount: 25

- type: entity
  parent: ColMarTechBase
  id: ColMarTechEquipment
  name: ColMarTech automated marine equipment rack
  description: An automated rack hooked up to a colossal storage of Marine Rifleman standard-issue equipment.
  components:
  - type: VendingMachine
    pack: UniformVendInventory
    offState: off
    brokenState: broken
    normalState: normal
    ejectDelay: 0.5
  - type: Sprite
    sprite: _CM/Structures/Machines/VendingMachines/ColMarTech/equipment.rsi
  - type: CMAutomatedVendor
    sections:
    - name: Броня
      entries:
      - id: ClothingOuterArmorMarineLight
        amount: 4
      - id: ClothingOuterArmorMarineMedium
        amount: 4
      - id: ClothingOuterArmorMarineHeavy
        amount: 4
      - id: ClothingOuterPrototypeC
        amount: 1
    - name: Одежда
      entries:
      - id: ClothingUniformJumpsuitMarine
        amount: 10
      - id: ClothingHandsGlovesMarine
        amount: 10
      - id: ClothingShoesBootsMarine
        amount: 10
      - id: ClothingHeadHelmetMarine
        amount: 5
    - name: Очки
      entries:
      - id: ClothingEyesGlassesBallistic
        amount: 5
      - id: ClothingEyesGlassesPrescriptionBallistic
        amount: 5
      - id: ClothingEyesGlassesRPG
        amount: 2
    - name: РюкзакиBoxMRPFilled
      entries:
      - id: ClothingBackpackMarine
        amount: 2
      - id: ClothingBackpackSatchelMarine
        amount: 4
      - id: ClothingBeltMilitaryWebbing
        amount: 2
    - name: Маски
      entries:
      - id: ClothingMaskGasMarine
        amount: 4
      - id: ClothingMaskGasRebreather
        amount: 4
      - id: ClothingMaskCoif
        amount: 6
    - name: Утилиты
      entries:
      - id: BoxMRPFilled
        amount: 10
      - id: FlashlightLantern
        amount: 30
      - id: FireExtinguisherMarine
        amount: 5
      - id: FlareMarine
        amount: 20
      - id: CMPouchMagazine
        amount: 2
